# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## Project Overview

This is a VSCode extension called "Qoder Wiki Export" that provides export functionality for documentation generated by the Qoder VSCode extension. It allows users to export Qoder-generated repository documentation to Markdown files while preserving hierarchical structure and formatting.

## Commands

### Development Commands
```bash
# Install dependencies
npm install

# Compile TypeScript
npm run compile

# Watch mode for development
npm run watch

# Lint the code
npm run lint

# Run tests
npm test

# Package the extension
npm run package
```

### Testing Individual Components
- Manual tests are available in `src/test/` directory
- Use `src/test/markdownExporter.manual.ts` for manual testing of export functionality
- Error handling tests in `src/test/errorHandling.simple.ts` and `src/test/errorHandling.standalone.ts`

## Architecture

### Core Services
- **QoderApiService** (`src/services/qoderApiService.ts`): Interfaces with the Qoder extension to retrieve wiki catalogs and documents
- **ExportService** (`src/services/exportService.ts`): Orchestrates the export process
- **MarkdownExporter** (`src/exporters/markdownExporter.ts`): Handles conversion and file output with hierarchy preservation
- **FileService** (`src/services/fileService.ts`): Manages file system operations
- **ErrorHandler** (`src/services/errorHandler.ts`): Centralized error handling and logging

### Extension Structure
- **Extension entry point** (`src/extension.ts`): Handles activation, command registration, and lifecycle
- **Commands** (`src/commands/exportCommand.ts`): VSCode command implementations
- **UI Components** (`src/ui/documentSelector.ts`): User interface for document selection

### Key Features
- Hierarchical export preserving catalog structure
- Progress tracking for large documentation sets
- Comprehensive error handling with graceful degradation
- Cross-reference and internal link processing
- Automatic index file generation
- Support for both individual documents and entire catalog exports

### Dependencies
- VSCode Extension API (1.74.0+)
- Requires Qoder extension (`aicoding.aicoding-agent`) to be installed and user logged in
- TypeScript with strict configuration including `exactOptionalPropertyTypes`

### File Organization
- `src/services/` - Core business logic services
- `src/exporters/` - Export format implementations
- `src/commands/` - VSCode command handlers
- `src/ui/` - User interface components
- `types/` - TypeScript type definitions for Qoder API integration

The extension maintains a clean separation between VSCode-specific code and export logic, making the core functionality testable and reusable.